<div class="min-h-screen flex items-center justify-center py-12 px-4">
  <div class="max-w-lg w-full space-y-8">
    <div class="text-center">
      <h2 class="text-3xl font-bold text-gray-900">Ajouter un rappel</h2>
      <p class="mt-2 text-sm text-gray-600">Choisissez votre médicament et configurez le rappel</p>
    </div>

    <%= simple_form_for(@reminder) do |f| %>
      <%= f.error_notification message: "Veuillez corriger les erreurs ci-dessous :", class: "bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg" %>

      <div class="space-y-4">

        <!-- Médicament -->
        <div>
          <%= f.label :medicament_id, "Médicament", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.collection_select :medicament_id, Medicament.all, :id, :nom, { prompt: "Sélectionnez un médicament" },
                class: "w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
        </div>

        <!-- Jours de la semaine -->
        <fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-64 border p-4">
          <legend class="fieldset-legend">Choisissez les jours</legend>
          <% selected_days = @reminder.days_of_week || [] %>
          <% Date::DAYNAMES.each do |day| %>
            <label class="label flex items-center space-x-2">
              <%= check_box_tag "reminder[days_of_week][]", day, selected_days.include?(day), class: "checkbox" %>
              <span class="label-text"><%= day %></span>
            </label>
          <% end %>
        </fieldset>

        <!-- Heure du rappel -->
        <div>
          <%= f.label :time, "Heure du rappel", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.time_field :time, class: "w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
        </div>

        <!-- Quantité et mesure -->
        <div class="grid grid-cols-2 gap-4">
          <div>
            <%= f.label :quantity, "Quantité", class: "block text-sm font-medium text-gray-700 mb-1" %>
            <%= f.select :quantity, [1, 2, 3, 4, 5], {}, class: "w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
          </div>
          <div>
            <%= f.label :measure, "Mesure", class: "block text-sm font-medium text-gray-700 mb-1" %>
            <%= f.select :measure, ['Comprimé', 'Demi comprimé', 'Cuillère'], {}, class: "w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
          </div>
        </div>

      </div>

      <div>
        <%= f.submit "Créer le rappel", class: "w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer" %>
      </div>
    <% end %>

    <div class="text-center mt-4">
      <%= link_to "← Retour", reminders_path, class: "text-sm font-medium text-gray-600 hover:text-gray-500" %>
    </div>
  </div>
</div>
